<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>index</title>
    <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1274023267'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1274023267%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script>

    <script>
        //    事件跟踪
        //声明_czc对象:
        var _czc = _czc || [];
        //绑定siteid，请用您的siteid替换下方"XXXXXXXX"部分
        _czc.push(["_setAccount", "1274023267"]);
    </script>

</head>
<body>
    <p>fafaf</p>
    <button onclick="download()" id="downloadId" class="downloadStatistic">下载</button>
    <button onclick="download()" id="downloadId2" class="downloadStatistic">下载2</button>

</body>
<script  type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/


    var test2 = document.getElementById("cnzz_stat_icon_1274023267");
    test2.style.visibility='hidden'
    GetRequest();
    function download() {
        var params = GetRequest();
        var downloadUrl = null;
        if(params['type'] == "url"){
            //直接通过url下载
            downloadUrl = 'url下载';
        }else {
            downloadUrl = '二维码下载';
        }
        //事件发生在谁身上,访客跟元素交互的行为动作,更详细的描述事件,(分型事件的分值，加载时间型事件的时长，订单型事件的价格),填写事件元素的div元素id
        _czc.push(['_trackEvent', '下载按钮', downloadUrl,  params['from'], '', 'downloadStatistic']);
    }

    //获取url参数
    function GetRequest() {
        var url = location.search; //获取url中"?"符后的字串
        alert(url);
        console.log(url)
        var theRequest = new Object();
        if (url.indexOf("?") != -1) {
            var str = url.substr(1);
            var strs = str.split("&");
            for(var i = 0; i < strs.length; i ++) {
                theRequest[strs[i].split("=")[0]]=unescape(strs[i].split("=")[1]);
            }
        }
        return theRequest;
    }
    /*]]>*/
</script>
</html>